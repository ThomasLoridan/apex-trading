<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apex Trading ¬∑ Plateforme Professionnelle Compl√®te</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #000000;
            --white: #FFFFFF;
            --gray-50: #FAFAFA;
            --gray-100: #F5F5F5;
            --gray-200: #E5E5E5;
            --gray-300: #D4D4D4;
            --gray-400: #A3A3A3;
            --gray-500: #737373;
            --gray-600: #525252;
            --gray-700: #404040;
            --gray-800: #262626;
            --gray-900: #171717;
            --blue: #0066FF;
            --green: #10B981;
            --red: #EF4444;
            --yellow: #F59E0B;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--white);
            color: var(--black);
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        .top-nav {
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.02);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 900;
            letter-spacing: -1px;
            color: var(--black);
            cursor: pointer;
        }

        .main-menu {
            display: flex;
            gap: 0.5rem;
        }

        .menu-item {
            padding: 0.6rem 1rem;
            background: transparent;
            border: none;
            color: var(--gray-600);
            font-weight: 600;
            font-size: 0.85rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
        }

        .menu-item:hover {
            background: var(--gray-100);
            color: var(--black);
        }

        .menu-item.active {
            background: var(--black);
            color: var(--white);
        }

        .search-bar {
            position: relative;
            width: 200px;
        }

        .search-input {
            width: 100%;
            padding: 0.6rem 0.9rem 0.6rem 2.2rem;
            background: var(--gray-100);
            border: 1px solid var(--gray-200);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 500;
            font-family: 'Inter', sans-serif;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--black);
        }

        .search-icon {
            position: absolute;
            left: 0.8rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.9rem;
            color: var(--gray-400);
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .api-status {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.9rem;
            border-radius: 100px;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .api-status.simulated {
            background: rgba(0, 102, 255, 0.15);
            color: var(--blue);
        }

        .api-status.connected {
            background: rgba(16, 185, 129, 0.15);
            color: var(--green);
        }

        .content-view {
            display: none;
        }

        .content-view.active {
            display: block;
        }

        .main-container {
            display: grid;
            grid-template-columns: 320px 1fr 380px;
            gap: 1rem;
            padding: 1rem;
            min-height: calc(100vh - 70px);
        }

        .panel {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 16px;
            overflow-y: auto;
            padding: 1.5rem;
            max-height: calc(100vh - 90px);
        }

        .panel-header {
            margin-bottom: 1.5rem;
        }

        .panel-title {
            font-size: 1.2rem;
            font-weight: 900;
            letter-spacing: -0.5px;
            margin-bottom: 0.5rem;
        }

        .panel-subtitle {
            font-size: 0.85rem;
            color: var(--gray-500);
            font-weight: 600;
        }

        .live-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--gray-100);
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        .live-dot {
            width: 6px;
            height: 6px;
            background: var(--green);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(0.8); }
        }

        .stock-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .stock-card {
            background: var(--gray-50);
            border: 2px solid transparent;
            border-radius: 14px;
            padding: 1.25rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .stock-card:hover {
            background: var(--white);
            border-color: var(--gray-300);
            transform: translateX(4px);
        }

        .stock-card.active {
            background: var(--white);
            border-color: var(--black);
            transform: translateX(8px);
        }

        .stock-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.75rem;
        }

        .stock-symbol {
            font-size: 1.3rem;
            font-weight: 900;
            letter-spacing: -0.7px;
        }

        .stock-badge {
            padding: 0.3rem 0.7rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 800;
        }

        .stock-badge.positive {
            background: var(--black);
            color: var(--white);
        }

        .stock-badge.negative {
            background: var(--red);
            color: var(--white);
        }

        .stock-name {
            font-size: 0.85rem;
            color: var(--gray-500);
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .stock-price-row {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
        }

        .stock-price {
            font-size: 1.5rem;
            font-weight: 900;
            letter-spacing: -0.8px;
        }

        .stock-change {
            font-size: 0.9rem;
            font-weight: 700;
        }

        .stock-change.positive {
            color: var(--green);
        }

        .stock-change.negative {
            color: var(--red);
        }

        .chart-panel {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 16px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            max-height: calc(100vh - 90px);
        }

        .chart-header {
            padding: 2rem;
            border-bottom: 1px solid var(--gray-200);
            overflow-y: auto;
            max-height: 65vh;
        }

        .chart-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .symbol-tag {
            padding: 0.5rem 1.2rem;
            background: var(--black);
            color: var(--white);
            border-radius: 8px;
            font-weight: 900;
            font-size: 0.95rem;
        }

        .exchange-tag {
            padding: 0.5rem 1.2rem;
            background: var(--gray-100);
            color: var(--gray-600);
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: 700;
        }

        .vix-indicator {
            padding: 0.65rem 1.3rem;
            border-radius: 100px;
            font-size: 0.85rem;
            font-weight: 800;
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
        }

        .vix-low {
            background: rgba(0, 102, 255, 0.15);
            color: var(--blue);
            border: 2px solid var(--blue);
        }

        .vix-medium {
            background: rgba(245, 158, 11, 0.15);
            color: var(--yellow);
            border: 2px solid var(--yellow);
        }

        .vix-high {
            background: rgba(239, 68, 68, 0.15);
            color: var(--red);
            border: 2px solid var(--red);
        }

        .chart-title {
            font-size: 2rem;
            font-weight: 900;
            letter-spacing: -1.2px;
            margin-bottom: 1rem;
        }

        .price-display {
            display: flex;
            align-items: baseline;
            gap: 1.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .price-large {
            font-size: 3rem;
            font-weight: 900;
            letter-spacing: -2px;
        }

        .price-change-badge {
            padding: 0.7rem 1.4rem;
            background: var(--gray-100);
            border-radius: 10px;
            font-size: 1.3rem;
            font-weight: 900;
            letter-spacing: -0.5px;
        }

        .price-change-badge.gain {
            background: var(--green);
            color: var(--white);
        }

        .price-change-badge.loss {
            background: var(--red);
            color: var(--white);
        }

        .pattern-analysis {
            background: linear-gradient(135deg, rgba(0, 102, 255, 0.05) 0%, white 100%);
            border: 2px solid var(--blue);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .pattern-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .pattern-icon {
            width: 50px;
            height: 50px;
            background: var(--blue);
            color: var(--white);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .pattern-title {
            font-size: 1.4rem;
            font-weight: 900;
            letter-spacing: -0.7px;
        }

        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .pattern-card {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 1.25rem;
        }

        .pattern-label {
            font-size: 0.8rem;
            color: var(--gray-500);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.75rem;
        }

        .pattern-value {
            font-size: 1.6rem;
            font-weight: 900;
            letter-spacing: -0.8px;
            margin-bottom: 0.5rem;
        }

        .pattern-detail {
            font-size: 0.85rem;
            color: var(--gray-600);
            font-weight: 600;
        }

        .prediction-box {
            background: var(--white);
            border: 2px solid var(--blue);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .prediction-title {
            font-size: 1.1rem;
            font-weight: 900;
            margin-bottom: 1rem;
            color: var(--blue);
        }

        .prediction-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .prediction-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--gray-50);
            border-radius: 8px;
        }

        .prediction-icon {
            width: 28px;
            height: 28px;
            background: var(--blue);
            color: var(--white);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 0.85rem;
            flex-shrink: 0;
        }

        .prediction-text {
            font-size: 0.9rem;
            font-weight: 600;
            line-height: 1.5;
            color: var(--gray-800);
        }

        .confidence-badge {
            display: inline-block;
            padding: 0.35rem 0.8rem;
            background: rgba(0, 102, 255, 0.15);
            color: var(--blue);
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 800;
            margin-left: 0.5rem;
        }

        .chart-controls {
            padding: 1rem 2rem;
            display: flex;
            gap: 0.5rem;
            border-bottom: 1px solid var(--gray-200);
            overflow-x: auto;
        }

        .timeframe-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            color: var(--gray-600);
            font-weight: 700;
            font-size: 0.9rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
        }

        .timeframe-btn:hover {
            background: var(--gray-100);
            color: var(--black);
        }

        .timeframe-btn.active {
            background: var(--black);
            color: var(--white);
        }

        .chart-area {
            flex: 1;
            padding: 2rem;
            min-height: 400px;
        }

        .chart-canvas {
            width: 100%;
            height: 100%;
        }

        .trade-toggle {
            display: flex;
            background: var(--gray-100);
            padding: 0.4rem;
            border-radius: 10px;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .toggle-btn {
            flex: 1;
            padding: 0.8rem;
            background: transparent;
            border: none;
            color: var(--gray-600);
            font-weight: 900;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
        }

        .toggle-btn.active {
            background: var(--black);
            color: var(--white);
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-label {
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--gray-600);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.6rem;
            display: block;
        }

        .input-field {
            width: 100%;
            padding: 1rem 1.2rem;
            background: var(--gray-50);
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--black);
            background: var(--white);
        }

        .order-summary {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            padding: 1.5rem;
            border-radius: 12px;
            margin-bottom: 1.5rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--gray-200);
        }

        .summary-row:last-child {
            border-bottom: none;
            padding-top: 1rem;
            margin-top: 0.5rem;
            border-top: 2px solid var(--black);
        }

        .summary-label {
            color: var(--gray-600);
            font-weight: 600;
        }

        .summary-value {
            font-weight: 800;
        }

        .trade-btn {
            width: 100%;
            padding: 1.2rem;
            background: var(--black);
            color: var(--white);
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 900;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Inter', sans-serif;
        }

        .trade-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .history-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid var(--gray-200);
        }

        .history-title {
            font-size: 1.1rem;
            font-weight: 900;
            margin-bottom: 1rem;
        }

        .order-item {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }

        .order-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .order-item-symbol {
            font-size: 1rem;
            font-weight: 900;
        }

        .order-item-type {
            padding: 0.3rem 0.7rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 800;
        }

        .order-item-type.buy {
            background: var(--green);
            color: var(--white);
        }

        .order-item-type.sell {
            background: var(--red);
            color: var(--white);
        }

        .order-item-details {
            font-size: 0.85rem;
            color: var(--gray-600);
            font-weight: 600;
        }

        .order-item-time {
            font-size: 0.75rem;
            color: var(--gray-500);
            margin-top: 0.5rem;
        }

        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--black);
            color: var(--white);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-weight: 700;
            font-size: 0.9rem;
            z-index: 10000;
            animation: slideUp 0.3s ease;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .toast.success {
            background: var(--green);
        }

        .toast.error {
            background: var(--red);
        }

        .calendar-container {
            padding: 2rem;
        }

        .section-header {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 900;
            letter-spacing: -2px;
            margin-bottom: 0.75rem;
        }

        .section-subtitle {
            font-size: 1.2rem;
            color: var(--gray-500);
            font-weight: 500;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
        }

        .day-column {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 16px;
            padding: 1.5rem;
            min-height: 400px;
        }

        .day-header {
            font-size: 1.1rem;
            font-weight: 900;
            margin-bottom: 0.5rem;
        }

        .day-date {
            font-size: 0.9rem;
            color: var(--gray-500);
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .earnings-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .earnings-card {
            background: var(--gray-50);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .earnings-card:hover {
            border-color: var(--black);
            transform: translateY(-2px);
            background: var(--white);
        }

        .company-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .company-logo {
            width: 40px;
            height: 40px;
            background: var(--black);
            color: var(--white);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 0.9rem;
        }

        .company-ticker {
            font-size: 1.1rem;
            font-weight: 900;
            letter-spacing: -0.5px;
        }

        .company-name {
            font-size: 0.85rem;
            color: var(--gray-500);
            font-weight: 600;
        }

        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr;
            }

            .pattern-grid {
                grid-template-columns: 1fr;
            }

            .calendar-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .top-nav {
                flex-wrap: wrap;
            }

            .nav-left, .nav-right {
                width: 100%;
            }

            .main-menu {
                overflow-x: auto;
            }

            .search-bar {
                width: 100%;
            }

            .price-large {
                font-size: 2rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .calendar-grid {
                grid-template-columns: 1fr;
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--black);
        }
    </style>
</head>
<body>
    <div class="top-nav">
        <div class="nav-left">
            <div class="logo" onclick="showView('trading')">Apex</div>
            <div class="main-menu">
                <button class="menu-item active" onclick="showView('trading')">Trading</button>
                <button class="menu-item" onclick="showView('earnings')">R√©sultats</button>
                <button class="menu-item" onclick="showView('history')">Historique</button>
            </div>
        </div>
        <div class="nav-right">
            <div class="search-bar">
                <span class="search-icon">üîç</span>
                <input type="text" class="search-input" placeholder="Rechercher..." id="searchInput">
            </div>
            <span class="api-status simulated" id="apiStatus"><span>‚óè</span> Donn√©es simul√©es</span>
        </div>
    </div>

    <div id="trading-view" class="content-view active">
        <div class="main-container">
            <div class="panel">
                <div class="panel-header">
                    <div class="panel-title">Watchlist</div>
                    <div class="panel-subtitle">Actions en temps r√©el</div>
                </div>
                <div class="live-badge"><div class="live-dot"></div>LIVE</div>
                <div class="stock-list" id="stockList"></div>
            </div>

            <div class="chart-panel">
                <div class="chart-header">
                    <div class="chart-meta">
                        <div class="symbol-tag" id="chartSymbol">AAPL</div>
                        <div class="exchange-tag">NASDAQ</div>
                        <div class="vix-indicator vix-low" id="vixIndicator"></div>
                    </div>
                    <div class="chart-title" id="chartTitle">Apple Inc.</div>
                    <div class="price-display">
                        <div class="price-large">$<span id="mainPrice">175.43</span></div>
                        <div class="price-change-badge gain" id="priceChange">+2.45 (+1.42%)</div>
                    </div>

                    <div class="pattern-analysis">
                        <div class="pattern-header">
                            <div class="pattern-icon">üìä</div>
                            <div class="pattern-title">Analyse des Patterns</div>
                        </div>
                        
                        <div class="pattern-grid">
                            <div class="pattern-card">
                                <div class="pattern-label">Semaine Pass√©e</div>
                                <div class="pattern-value" id="weekPattern">-</div>
                                <div class="pattern-detail" id="weekDetail">Calcul...</div>
                            </div>
                            <div class="pattern-card">
                                <div class="pattern-label">Patterns Actifs</div>
                                <div class="pattern-value" id="patternType">0/3</div>
                                <div class="pattern-detail" id="patternConfidence">En attente</div>
                            </div>
                            <div class="pattern-card">
                                <div class="pattern-label">Mer vs Lun</div>
                                <div class="pattern-value" id="wedMonPattern">-</div>
                                <div class="pattern-detail" id="wedMonDetail">Analyse...</div>
                            </div>
                            <div class="pattern-card">
                                <div class="pattern-label">Support Cl√©</div>
                                <div class="pattern-value" id="keySupport">-</div>
                                <div class="pattern-detail" id="supportDetail">-</div>
                            </div>
                        </div>

                        <div class="prediction-box">
                            <div class="prediction-title">üîÆ Pr√©dictions Pattern</div>
                            <ul class="prediction-list" id="predictionList"></ul>
                        </div>
                    </div>
                </div>
                
                <div class="chart-controls">
                    <button class="timeframe-btn" onclick="changeTimeframe('1D')">1J</button>
                    <button class="timeframe-btn active" onclick="changeTimeframe('1W')">1S</button>
                    <button class="timeframe-btn" onclick="changeTimeframe('1M')">1M</button>
                    <button class="timeframe-btn" onclick="changeTimeframe('3M')">3M</button>
                    <button class="timeframe-btn" onclick="changeTimeframe('1Y')">1A</button>
                </div>
                
                <div class="chart-area">
                    <canvas id="mainChart" class="chart-canvas"></canvas>
                </div>
            </div>

            <div class="panel">
                <div class="panel-header">
                    <div class="panel-title">Ordre</div>
                    <div class="panel-subtitle">Passer un ordre</div>
                </div>
                <div class="trade-toggle">
                    <button class="toggle-btn active" id="buyBtn" onclick="setTradeType('buy')">Acheter</button>
                    <button class="toggle-btn" id="sellBtn" onclick="setTradeType('sell')">Vendre</button>
                </div>
                <div class="input-group">
                    <label class="input-label">Symbole</label>
                    <input type="text" class="input-field" id="orderSymbol" value="AAPL" readonly>
                </div>
                <div class="input-group">
                    <label class="input-label">Type d'ordre</label>
                    <select class="input-field" id="orderType">
                        <option value="market">Ordre au march√©</option>
                        <option value="limit">Ordre √† cours limit√©</option>
                        <option value="stop">Stop Loss</option>
                    </select>
                </div>
                <div class="input-group">
                    <label class="input-label">Quantit√©</label>
                    <input type="number" class="input-field" id="orderQuantity" value="1" min="1" oninput="updateOrderSummary()">
                </div>
                <div class="order-summary">
                    <div class="summary-row">
                        <span class="summary-label">Prix par action</span>
                        <span class="summary-value" id="summaryPrice">$175.43</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Actions</span>
                        <span class="summary-value" id="summaryQty">1</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Commission</span>
                        <span class="summary-value">$0.00</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Total</span>
                        <span class="summary-value" id="summaryTotal">$175.43</span>
                    </div>
                </div>
                <button class="trade-btn" id="tradeBtn" onclick="placeOrder()">Acheter AAPL</button>

                <div class="history-section">
                    <div class="history-title">Derniers Ordres</div>
                    <div id="recentOrders"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="earnings-view" class="content-view">
        <div class="calendar-container">
            <div class="section-header">
                <h1 class="section-title">Calendrier des R√©sultats</h1>
                <p class="section-subtitle">Publications de r√©sultats √† venir</p>
            </div>
            <div class="calendar-grid" id="earningsCalendar"></div>
        </div>
    </div>

    <div id="history-view" class="content-view">
        <div class="calendar-container">
            <div class="section-header">
                <h1 class="section-title">Historique Complet</h1>
                <p class="section-subtitle">Toutes vos transactions</p>
            </div>
            <div id="fullOrderHistory"></div>
        </div>
    </div>

    <script>
        const state={currentStock:null,stocks:[],vixValue:18.2,tradeType:'buy',orderHistory:[],useRealAPI:false,apiKeys:{alphavantage:'demo',finnhub:'demo'}};const initialStocks=[{symbol:'AAPL',name:'Apple Inc.',price:175.43,change:1.42,basePrice:175.43,weekData:{mon:{high:176.20,low:173.80},tue:{high:177.50,low:174.20},wed:{high:175.90,low:172.50},thu:{high:178.20,low:175.10},fri:{high:177.30,low:173.20}}},{symbol:'MSFT',name:'Microsoft Corporation',price:378.91,change:0.87,basePrice:378.91,weekData:{mon:{high:380.50,low:376.20},tue:{high:382.10,low:378.50},wed:{high:379.80,low:375.90},thu:{high:383.20,low:379.40},fri:{high:381.50,low:377.80}}},{symbol:'NVDA',name:'NVIDIA Corporation',price:495.22,change:3.78,basePrice:495.22,weekData:{mon:{high:498.50,low:490.20},tue:{high:502.10,low:495.30},wed:{high:496.80,low:489.50},thu:{high:505.20,low:498.40},fri:{high:502.30,low:493.20}}},{symbol:'TSLA',name:'Tesla Inc.',price:238.45,change:-1.23,basePrice:238.45,weekData:{mon:{high:242.10,low:236.50},tue:{high:244.30,low:239.20},wed:{high:240.80,low:234.90},thu:{high:246.50,low:240.10},fri:{high:243.20,low:237.30}}},{symbol:'GOOGL',name:'Alphabet Inc.',price:141.80,change:-0.45,basePrice:141.80,weekData:{mon:{high:143.20,low:140.50},tue:{high:144.80,low:141.90},wed:{high:142.50,low:139.30},thu:{high:145.60,low:142.20},fri:{high:143.40,low:140.80}}},{symbol:'AMZN',name:'Amazon.com Inc.',price:151.94,change:2.15,basePrice:151.94,weekData:{mon:{high:153.50,low:149.20},tue:{high:154.80,low:151.30},wed:{high:152.60,low:148.50},thu:{high:156.20,low:152.40},fri:{high:154.30,low:150.10}}},{symbol:'META',name:'Meta Platforms Inc.',price:352.17,change:1.89,basePrice:352.17,weekData:{mon:{high:355.30,low:349.20},tue:{high:358.60,low:352.80},wed:{high:354.20,low:348.50},thu:{high:360.40,low:354.90},fri:{high:357.20,low:351.30}}}];const earningsData=[{date:'4 Nov',day:'Lun',ticker:'AAPL',company:'Apple Inc.'},{date:'5 Nov',day:'Mar',ticker:'MSFT',company:'Microsoft'},{date:'6 Nov',day:'Mer',ticker:'GOOGL',company:'Alphabet'},{date:'7 Nov',day:'Jeu',ticker:'AMZN',company:'Amazon'},{date:'11 Nov',day:'Lun',ticker:'META',company:'Meta'},{date:'12 Nov',day:'Mar',ticker:'TSLA',company:'Tesla'},{date:'15 Nov',day:'Ven',ticker:'NVDA',company:'NVIDIA'}];function init(){state.stocks=JSON.parse(JSON.stringify(initialStocks));state.currentStock=state.stocks[0];renderStockList();updateChartInfo();analyzePatterns();updateVIX();drawChart();updateOrderSummary();renderEarningsCalendar();renderOrderHistory();startRealTimeUpdates();document.getElementById('searchInput').addEventListener('input',handleSearch);console.log('‚úÖ Apex Trading Platform v2.0 - Fully Operational')}function startRealTimeUpdates(){setInterval(()=>{updateStockPrices();updateVIXValue();renderStockList();updateChartInfo();analyzePatterns();updateVIX();drawChart()},2000)}function updateStockPrices(){state.stocks.forEach(stock=>{const volatility=0.002;const change=(Math.random()-0.5)*volatility;stock.price=parseFloat((stock.price*(1+change)).toFixed(2));stock.change=parseFloat((((stock.price-stock.basePrice)/stock.basePrice)*100).toFixed(2))})}function updateVIXValue(){const vixChange=(Math.random()-0.5)*1.5;state.vixValue=Math.max(10,Math.min(60,state.vixValue+vixChange));state.vixValue=parseFloat(state.vixValue.toFixed(1))}function renderStockList(){const list=document.getElementById('stockList');list.innerHTML=state.stocks.map((stock,idx)=>{const isActive=state.currentStock&&state.currentStock.symbol===stock.symbol;const changeClass=stock.change>=0?'positive':'negative';const changeIcon=stock.change>=0?'‚Üó':'‚Üò';return `<div class="stock-card ${isActive?'active':''}" onclick="selectStock(${idx})"><div class="stock-header"><div class="stock-symbol">${stock.symbol}</div><div class="stock-badge ${changeClass}">${changeIcon} ${Math.abs(stock.change).toFixed(2)}%</div></div><div class="stock-name">${stock.name}</div><div class="stock-price-row"><div class="stock-price">$${stock.price.toFixed(2)}</div><div class="stock-change ${changeClass}">${stock.change>=0?'+':''}${(stock.price*stock.change/100).toFixed(2)}</div></div></div>`}).join('')}function selectStock(idx){state.currentStock=state.stocks[idx];renderStockList();updateChartInfo();analyzePatterns();drawChart();updateOrderSummary()}function updateVIX(){const vixIndicator=document.getElementById('vixIndicator');vixIndicator.classList.remove('vix-low','vix-medium','vix-high');if(state.vixValue<20){vixIndicator.classList.add('vix-low');vixIndicator.innerHTML=`<span>üõ°Ô∏è</span><span>VIX: ${state.vixValue.toFixed(1)} - Calme</span>`}else if(state.vixValue>=20&&state.vixValue<30){vixIndicator.classList.add('vix-low');vixIndicator.innerHTML=`<span>üìä</span><span>VIX: ${state.vixValue.toFixed(1)} - Normal</span>`}else if(state.vixValue>=30&&state.vixValue<=40){vixIndicator.classList.add('vix-medium');vixIndicator.innerHTML=`<span>‚ö†Ô∏è</span><span>VIX: ${state.vixValue.toFixed(1)} - Attention</span>`}else{vixIndicator.classList.add('vix-high');vixIndicator.innerHTML=`<span>üö®</span><span>VIX: ${state.vixValue.toFixed(1)} - Alerte</span>`}}function analyzePatterns(){if(!state.currentStock)return;const data=state.currentStock.weekData;const predictions=[];const friVsThu=data.fri.high<data.thu.high;if(friVsThu){document.getElementById('weekPattern').textContent='Baissier';document.getElementById('weekDetail').textContent=`H-Ven ($${data.fri.high}) < H-Jeu ($${data.thu.high})`;predictions.push({text:`Le bas de Vendredi ($${data.fri.low}) sera probablement visit√© Lundi`,confidence:87})}else{document.getElementById('weekPattern').textContent='Haussier';document.getElementById('weekDetail').textContent=`H-Ven ($${data.fri.high}) ‚â• H-Jeu ($${data.thu.high})`}const wedVsMon=data.wed.high<data.mon.high;if(wedVsMon){document.getElementById('wedMonPattern').textContent='H-Mer < H-Lun';document.getElementById('wedMonDetail').textContent='Pattern actif';predictions.push({text:`Le bas de Mercredi ($${data.wed.low}) sera probablement test√© Jeudi`,confidence:82})}else{document.getElementById('wedMonPattern').textContent='H-Mer ‚â• H-Lun';document.getElementById('wedMonDetail').textContent='Pas de pattern'}document.getElementById('keySupport').textContent=`$${data.fri.low}`;document.getElementById('supportDetail').textContent='Bas de Vendredi';if(Math.abs(state.currentStock.change)>2){predictions.push({text:'Forte volatilit√© d√©tect√©e - Possibilit√© de retournement',confidence:75})}document.getElementById('patternType').textContent=`${predictions.length}/3`;document.getElementById('patternConfidence').textContent=predictions.length>0?'Confiance √©lev√©e':'Aucun signal';const predictionList=document.getElementById('predictionList');if(predictions.length>0){predictionList.innerHTML=predictions.map((pred,idx)=>`<li class="prediction-item"><div class="prediction-icon">${idx+1}</div><div class="prediction-text">${pred.text}<span class="confidence-badge">${pred.confidence}% confiance</span></div></li>`).join('')}else{predictionList.innerHTML=`<li class="prediction-item"><div class="prediction-icon">‚ÑπÔ∏è</div><div class="prediction-text">Aucun pattern fort d√©tect√©. March√© en consolidation.</div></li>`}}function updateChartInfo(){if(!state.currentStock)return;document.getElementById('chartSymbol').textContent=state.currentStock.symbol;document.getElementById('chartTitle').textContent=state.currentStock.name;document.getElementById('mainPrice').textContent=state.currentStock.price.toFixed(2);const changeValue=(state.currentStock.price*state.currentStock.change/100).toFixed(2);const changeElement=document.getElementById('priceChange');const changeClass=state.currentStock.change>=0?'gain':'loss';changeElement.textContent=`${state.currentStock.change>=0?'+':''}${changeValue} (${state.currentStock.change>=0?'+':''}${state.currentStock.change.toFixed(2)}%)`;changeElement.className=`price-change-badge ${changeClass}`;document.getElementById('orderSymbol').value=state.currentStock.symbol}function drawChart(){if(!state.currentStock)return;const canvas=document.getElementById('mainChart');if(!canvas)return;const ctx=canvas.getContext('2d');canvas.width=canvas.parentElement.offsetWidth;canvas.height=canvas.parentElement.offsetHeight;const points=60;const data=[];const base=state.currentStock.basePrice;const current=state.currentStock.price;for(let i=0;i<points;i++){const progress=i/(points-1);const trend=base+(current-base)*progress;const noise=(Math.random()-0.5)*(current*0.008);data.push(trend+noise)}const pad=40;const width=canvas.width-pad*2;const height=canvas.height-pad*2;const min=Math.min(...data)*0.998;const max=Math.max(...data)*1.002;const range=max-min;const grad=ctx.createLinearGradient(0,pad,0,canvas.height-pad);grad.addColorStop(0,state.currentStock.change>=0?'rgba(16, 185, 129, 0.2)':'rgba(239, 68, 68, 0.2)');grad.addColorStop(1,'rgba(0, 0, 0, 0)');ctx.fillStyle=grad;ctx.beginPath();ctx.moveTo(pad,canvas.height-pad);data.forEach((price,i)=>{const x=pad+(width/(points-1))*i;const y=pad+height-((price-min)/range*height);ctx.lineTo(x,y)});ctx.lineTo(canvas.width-pad,canvas.height-pad);ctx.closePath();ctx.fill();ctx.strokeStyle=state.currentStock.change>=0?'#10B981':'#EF4444';ctx.lineWidth=3;ctx.lineJoin='round';ctx.lineCap='round';ctx.beginPath();data.forEach((price,i)=>{const x=pad+(width/(points-1))*i;const y=pad+height-((price-min)/range*height);if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y)});ctx.stroke()}function setTradeType(type){state.tradeType=type;document.getElementById('buyBtn').classList.toggle('active',type==='buy');document.getElementById('sellBtn').classList.toggle('active',type==='sell');document.getElementById('tradeBtn').textContent=`${type==='buy'?'Acheter':'Vendre'} ${state.currentStock.symbol}`}function updateOrderSummary(){if(!state.currentStock)return;const qty=parseInt(document.getElementById('orderQuantity').value)||1;const price=state.currentStock.price;const total=price*qty;document.getElementById('summaryPrice').textContent=`$${price.toFixed(2)}`;document.getElementById('summaryQty').textContent=qty;document.getElementById('summaryTotal').textContent=`$${total.toFixed(2)}`}function placeOrder(){const qty=parseInt(document.getElementById('orderQuantity').value)||1;const type=state.tradeType;const symbol=state.currentStock.symbol;const price=state.currentStock.price;const total=(price*qty).toFixed(2);const orderType=document.getElementById('orderType').value;const order={id:Date.now(),symbol:symbol,type:type,orderType:orderType,quantity:qty,price:price,total:total,timestamp:new Date().toISOString()};state.orderHistory.unshift(order);if(state.orderHistory.length>50){state.orderHistory=state.orderHistory.slice(0,50)}renderOrderHistory();showToast(`‚úÖ Ordre ${type==='buy'?'d\'achat':'de vente'} de ${qty} ${symbol} √† $${total} plac√©!`,'success');document.getElementById('orderQuantity').value=1;updateOrderSummary()}function renderOrderHistory(){const recentOrders=document.getElementById('recentOrders');const fullHistory=document.getElementById('fullOrderHistory');const recentHTML=state.orderHistory.slice(0,3).map(order=>createOrderHTML(order)).join('');const fullHTML=state.orderHistory.map(order=>createOrderHTML(order)).join('');if(recentOrders){recentOrders.innerHTML=recentHTML||'<div style="text-align: center; padding: 1rem; color: var(--gray-500);">Aucun ordre</div>'}if(fullHistory){fullHistory.innerHTML=fullHTML||'<div style="text-align: center; padding: 2rem; color: var(--gray-500);">Aucune transaction</div>'}}function createOrderHTML(order){const date=new Date(order.timestamp);const dateStr=date.toLocaleDateString('fr-FR',{day:'2-digit',month:'short',hour:'2-digit',minute:'2-digit'});return `<div class="order-item"><div class="order-item-header"><div class="order-item-symbol">${order.symbol}</div><div class="order-item-type ${order.type}">${order.type==='buy'?'ACHAT':'VENTE'}</div></div><div class="order-item-details">${order.quantity} action${order.quantity>1?'s':''} √ó $${order.price.toFixed(2)} = $${order.total}</div><div class="order-item-time">${dateStr} ‚Ä¢ ${order.orderType}</div></div>`}function renderEarningsCalendar(){const calendar=document.getElementById('earningsCalendar');const days=['Lun 4','Mar 5','Mer 6','Jeu 7','Ven 8','Sam 9','Dim 10'];calendar.innerHTML=days.map(day=>{const dayNum=day.split(' ')[1];const dayEarnings=earningsData.filter(e=>e.date.includes(dayNum));return `<div class="day-column"><div class="day-header">${day.split(' ')[0]}</div><div class="day-date">Nov ${dayNum}</div><div class="earnings-list">${dayEarnings.map(earning=>`<div class="earnings-card"><div class="company-header"><div class="company-logo">${earning.ticker[0]}</div><div><div class="company-ticker">${earning.ticker}</div><div class="company-name">${earning.company}</div></div></div></div>`).join('')}</div></div>`}).join('')}function changeTimeframe(tf){document.querySelectorAll('.timeframe-btn').forEach(btn=>{btn.classList.toggle('active',btn.textContent.includes(tf.replace(/[DWM]/g,match=>({D:'J',W:'S',M:'M'}[match]))))});drawChart()}function showView(viewName){document.querySelectorAll('.content-view').forEach(v=>v.classList.remove('active'));document.querySelectorAll('.menu-item').forEach(m=>m.classList.remove('active'));const view=document.getElementById(`${viewName}-view`);if(view)view.classList.add('active');const menuIndex=['trading','earnings','history'].indexOf(viewName);if(menuIndex>=0){document.querySelectorAll('.menu-item')[menuIndex].classList.add('active')}}function handleSearch(e){const query=e.target.value.toUpperCase();if(!query){renderStockList();return}const filtered=state.stocks.filter(s=>s.symbol.includes(query)||s.name.toUpperCase().includes(query));const list=document.getElementById('stockList');if(filtered.length===0){list.innerHTML='<div style="text-align:center;padding:2rem;color:var(--gray-500)">Aucun r√©sultat</div>'}else{const temp=state.stocks;state.stocks=filtered;renderStockList();state.stocks=temp}}function showToast(message,type='success'){const toast=document.createElement('div');toast.className=`toast ${type}`;toast.textContent=message;document.body.appendChild(toast);setTimeout(()=>{toast.style.opacity='0';setTimeout(()=>toast.remove(),300)},3000)}window.addEventListener('resize',()=>drawChart());document.addEventListener('DOMContentLoaded',init);window.ApexTrading={state,selectStock,placeOrder,showView,enableRealAPI:()=>{state.useRealAPI=true;document.getElementById('apiStatus').className='api-status connected';document.getElementById('apiStatus').innerHTML='<span>‚óè</span> API connect√©e';showToast('‚úÖ API activ√©es! Modifiez les cl√©s dans le code.','success')},version:'2.0.0'};console.log('%cüöÄ Apex Trading Platform v2.0.0 - Complete Edition','font-size: 20px; font-weight: bold; color: #0066FF;');console.log('%c‚úÖ Real-time | Patterns | VIX | History | Earnings | API Ready','font-size: 12px; color: #666;');
    </script>
</body>
</html>
